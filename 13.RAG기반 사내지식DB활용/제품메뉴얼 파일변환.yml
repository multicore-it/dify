app:
  description: 제품메뉴얼 파일변환
  icon: 🤖
  icon_background: '#FFEAD5'
  mode: advanced-chat
  name: 제품메뉴얼 파일변환
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/openai:0.0.26@c1e643ac6a7732f6333a783320b4d3026fa5e31d8e7026375b98d44418d33f26
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: xyy/txtgenarator:0.0.2@bad4a615f63278162a71d77635f516c050756cee5a34e3faa20d4971bcd59ccf
kind: app
version: 0.3.1
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInLoop: false
        sourceType: start
        targetType: document-extractor
      id: 1755826843577-source-1755826851135-target
      source: '1755826843577'
      sourceHandle: source
      target: '1755826851135'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: document-extractor
        targetType: llm
      id: 1755826851135-source-llm-target
      source: '1755826851135'
      sourceHandle: source
      target: llm
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: tool
      id: llm-source-1755826864926-target
      source: llm
      sourceHandle: source
      target: '1755826864926'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: tool
        targetType: answer
      id: 1755826864926-source-answer-target
      source: '1755826864926'
      sourceHandle: source
      target: answer
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: 시작
        type: start
        variables:
        - allowed_file_extensions: []
          allowed_file_types:
          - document
          allowed_file_upload_methods:
          - local_file
          - remote_url
          label: 입력 파일
          max_length: 5
          options: []
          required: true
          type: file-list
          variable: input_file
      height: 90
      id: '1755826843577'
      position:
        x: 30
        y: 252
      positionAbsolute:
        x: 30
        y: 252
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        memory:
          query_prompt_template: '{{#sys.query#}}


            {{#sys.files#}}'
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: false
            size: 10
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gpt-4o-mini
          provider: langgenius/openai/openai
        prompt_template:
        - id: 80b918a5-a059-4b03-9a97-3c7713e91047
          role: system
          text: '#역할: 사용자 가이드 텍스트 세그먼트화 및 정보 추출 전문가


            #목표: RAG 시스템을 위한 최적의 데이터셋을 구축하여, 사용자가 제품 매뉴얼에서 원하는 정보를 정확하고 효율적으로 검색할
            수 있도록 한다.


            #데이터: {{#1755826851135.text#}}


            #지시사항:

            1. 세그먼트 추출 원칙:

            1.1. 원본 유지: 문서를 요약하거나 수정하지 않고, 원본 텍스트를 그대로 추출합니다.

            1.2. 의미 단위 분리: 문단, 표, 절(section), 순서가 있는 목록(e.g., 절차) 등 2개 이상의 문장으로 이루어진
            의미적 완결성을 갖는 단위로 텍스트를 나눕니다.

            1.3. 핵심 정보 단위: ''문제 해결 방법'', ''특정 기능 사용법'', ''제품 사양'', ''경고 및 주의사항'' 등
            사용자가 자주 검색할 만한 핵심 정보 덩어리를 하나의 세그먼트로 묶는 것을 우선합니다.


            2. 세그먼트화 금지 대상 (무시):

            2.1. 빈 줄, 페이지 번호, 쪽갈이, 헤더, 푸터.

            2.2. 의미적 내용이 없는 단일 단어 또는 한 문장으로만 구성된 짧은 제목, 단순한 표지 문구.


            3. 세그먼트 포맷팅:

            3.1. 명확한 구분: 각 세그먼트는 구분자(*****)로 명확하게 분리합니다.

            3.2. 메타 정보 포함: 각 세그먼트의 시작 부분에 다음 형식의 메타 정보를 반드시 포함합니다.

            *[문서명]: 원본 문서의 제목 (예: 갤럭시S24_사용자_매뉴얼)

            *[섹션_경로]: 해당 텍스트의 상위 섹션 경로 (예: 문제_해결 > 전원_관련_문제)

            *포맷: [문서명] / [섹션_경로]

            *예시: [갤럭시S24_사용자_매뉴얼] / [기능_설정 > 카메라_설정]

            3.3. 메타 정보 계승: 새로운 페이지나 섹션 시작이 명확히 확인되기 전까지, 직전 세그먼트의 메타 정보를 그대로 사용하세요.

            *예외: 만약 내용상으로 명확히 다른 섹션으로 이동했으나 메타 정보가 누락된 경우, [섹션_경로] 부분에 [알_수_없음] 또는
            [추론_필요]와 같이 불확실성을 나타내는 표기를 추가합니다.'
        selected: false
        title: LLM
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: llm
      position:
        x: 638
        y: 252
      positionAbsolute:
        x: 638
        y: 252
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#llm.text#}}'
        desc: ''
        selected: false
        title: 답변
        type: answer
        variables: []
      height: 104
      id: answer
      position:
        x: 1246
        y: 252
      positionAbsolute:
        x: 1246
        y: 252
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_array_file: true
        selected: false
        title: Doc 추출기
        type: document-extractor
        variable_selector:
        - '1755826843577'
        - input_file
      height: 94
      id: '1755826851135'
      position:
        x: 334
        y: 252
      positionAbsolute:
        x: 334
        y: 252
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: generate txt file from input
            ja_JP: generate txt file from input
            pt_BR: generate txt file from input
            zh_Hans: generate txt file from input
          label:
            en_US: Query string
            ja_JP: Query string
            pt_BR: Query string
            zh_Hans: 查询语句
          llm_description: generate txt file from input
          max: null
          min: null
          name: query
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: title
            ja_JP: title
            pt_BR: title
            zh_Hans: title
          label:
            en_US: title
            ja_JP: title
            pt_BR: title
            zh_Hans: 题目
          llm_description: title
          max: null
          min: null
          name: title
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        params:
          query: ''
          title: ''
        provider_id: xyy/txtgenarator/txtgenarator
        provider_name: xyy/txtgenarator/txtgenarator
        provider_type: builtin
        selected: true
        title: txtgenarator
        tool_configurations: {}
        tool_description: generate txt file from input
        tool_label: txtgenarator
        tool_name: txtgenarator
        tool_node_version: '2'
        tool_parameters:
          query:
            type: mixed
            value: '{{#llm.text#}}'
          title:
            type: mixed
            value: 가이드
        type: tool
      height: 54
      id: '1755826864926'
      position:
        x: 942
        y: 252
      positionAbsolute:
        x: 942
        y: 252
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    viewport:
      x: 144
      y: 143
      zoom: 0.7
